<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#070b18;--bg2:#0b2a3a;
  --card:rgba(255,255,255,.06);--st:rgba(255,255,255,.12);
  --g:#ffd27a;--m:#4de3c1;--t:#f4f6ff;--mut:rgba(244,246,255,.72);--red:#ff6b6b;
}
*{box-sizing:border-box}
body{
  margin:0;font-family:Cairo,sans-serif;color:var(--t);padding:14px;
  background:
    radial-gradient(900px 600px at 20% 10%,rgba(77,227,193,.18),transparent 60%),
    radial-gradient(900px 650px at 90% 15%,rgba(255,210,122,.14),transparent 60%),
    linear-gradient(160deg,var(--bg1),var(--bg2));
}
.wrap{max-width:1100px;margin:0 auto}
.card{background:var(--card);border:1px solid var(--st);border-radius:24px;padding:14px;margin:12px 0;backdrop-filter:blur(10px)}
.h{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
.title{font-size:22px;font-weight:900}
.small{color:var(--mut);line-height:1.9}
.badge{display:inline-block;padding:7px 10px;border:1px solid var(--st);border-radius:999px;background:rgba(255,255,255,.06);font-weight:900;font-size:12px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media(max-width:980px){.grid{grid-template-columns:1fr}}
.times{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
@media(max-width:780px){.times{grid-template-columns:repeat(2,1fr)}}
.timeCard{border-radius:20px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);padding:12px}
.timeCard b{color:var(--g)}
.pill{padding:10px 12px;border-radius:18px;background:rgba(10,18,36,.55);border:1px solid rgba(255,255,255,.12)}
.btnRow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
button{cursor:pointer;border:0;border-radius:16px;padding:12px 14px;font-weight:900;font-family:Cairo,sans-serif;flex:1;min-width:170px}
.btnM{background:linear-gradient(135deg,var(--m),rgba(77,227,193,.55));color:#061218}
.btnG{background:linear-gradient(135deg,var(--g),#d9b45b);color:#111}
.btnR{background:linear-gradient(135deg,var(--red),rgba(255,107,107,.55));color:#1b0606}
input,select{width:100%;padding:12px;border-radius:16px;border:1px solid var(--st);
background:rgba(10,18,36,.55);color:var(--t);font-weight:900;font-family:Cairo,sans-serif}
.ring{
  width:160px;height:160px;border-radius:999px;
  background:conic-gradient(var(--m) 0deg, rgba(255,255,255,.12) 0deg);
  display:flex;align-items:center;justify-content:center;border:1px solid rgba(255,255,255,.18)
}
.ring .inner{
  width:130px;height:130px;border-radius:999px;
  background:rgba(8,12,25,.88);
  display:flex;align-items:center;justify-content:center;flex-direction:column;
  border:1px solid rgba(255,255,255,.12)
}
.big{font-size:20px;font-weight:900}
</style>
</head>

<body>
<div class="wrap">

  <div class="card">
    <div class="h">
      <div>
        <div class="title">ğŸ•Œ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© (ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ùƒ)</div>
        <div class="small">Ø¹Ø¯Ø§Ø¯ Ù„Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø© + ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°Ø§Ù† + Ø§Ù‡ØªØ²Ø§Ø² (Ù„Ùˆ Ø§Ù„ØµÙØ­Ø© Ù…ÙØªÙˆØ­Ø©).</div>
      </div>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <span class="badge" id="locBadge">ğŸ“ Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</span>
        <span class="badge" id="nextBadge">â³ â€”</span>
      </div>
    </div>
  </div>

  <div class="grid">
    <div class="card">
      <div class="h">
        <div style="font-weight:900">â±ï¸ Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯</div>
        <div class="badge" id="dateBadge">â€”</div>
      </div>
      <div style="display:flex;gap:14px;align-items:center;flex-wrap:wrap;margin-top:12px">
        <div class="ring" id="ring"><div class="inner">
          <div class="small" id="ringLabel">Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
          <div class="big" id="countdown">â€”</div>
          <div class="small" id="nextName">â€”</div>
        </div></div>

        <div style="flex:1;min-width:240px">
          <div class="pill">
            <div><b>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</b> <span id="city">â€”</span></div>
            <div><b>Ø§Ù„Ù…Ù†Ù‡Ø¬:</b> <span id="methodName">â€”</span></div>
            <div><b>Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©:</b> <span id="tz">â€”</span></div>
          </div>

          <div class="btnRow">
            <button class="btnM" onclick="getLocationAndLoad()">ğŸ“ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ù…ÙˆØ§Ù‚ÙŠØª</button>
            <button class="btnG" onclick="testAdhan()">ğŸ”Š ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£Ø°Ø§Ù†</button>
            <button class="btnR" onclick="toggleVibrate()">ğŸ“³ Ø§Ù‡ØªØ²Ø§Ø²: <span id="vibState">ON</span></button>
          </div>
        </div>
      </div>

      <div class="small" style="margin-top:10px">
        âš ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°Ø§Ù† ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ù‚ÙÙˆÙ„ = Ù„Ø§Ø²Ù… Ø¨Ù„ÙˆÙƒØ§Øª App Creator (Ù‡ØªÙ„Ø§Ù‚ÙŠÙ‡Ø§ ØªØ­Øª).
      </div>
    </div>

    <div class="card">
      <div class="h">
        <div style="font-weight:900">ğŸ•°ï¸ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ÙŠÙˆÙ…</div>
        <div class="badge">ØªÙ„Ù‚Ø§Ø¦ÙŠ</div>
      </div>
      <div id="times" class="times"></div>

      <div class="card" style="margin-top:12px">
        <div class="h">
          <div style="font-weight:900">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø³Ø±ÙŠØ¹Ø©</div>
          <div class="badge">Ù…Ø­Ù„ÙŠÙ‹Ø§</div>
        </div>
        <div class="grid" style="grid-template-columns:1fr 1fr;gap:10px;margin-top:10px">
          <select id="method" onchange="saveMethod()">
            <option value="5">Egypt (Ø¯Ø§Ø± Ø§Ù„Ø¥ÙØªØ§Ø¡)</option>
            <option value="4">Umm Al-Qura</option>
            <option value="2">ISNA</option>
            <option value="3">MWL</option>
          </select>
          <select id="madhab" onchange="saveMadhab()">
            <option value="0">Ø´Ø§ÙØ¹ÙŠ (Asr Standard)</option>
            <option value="1">Ø­Ù†ÙÙŠ (Asr Hanafi)</option>
          </select>
        </div>
        <div class="small" style="margin-top:10px">Ù„Ùˆ Ø£Ù†Øª ÙÙŠ Ù…ØµØ± Ø®Ù„ÙŠÙƒ Ø¹Ù„Ù‰ Egypt.</div>
      </div>
    </div>
  </div>

</div>

<audio id="adhan" preload="auto"></audio>

<script>
/** ========= Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØµÙˆØª Ø§Ù„Ø£Ø°Ø§Ù† (Ø­Ø· Ù„ÙŠÙ†ÙƒØ§ØªÙƒ Ù‡Ù†Ø§) ========= **/
const ADHAN_URLS = {
  Fajr:   "https://ia800202.us.archive.org/11/items/AdhaN_M_up-by-muslem/071--.mp3",
  Dhuhr:  "https://ia600202.us.archive.org/11/items/AdhaN_M_up-by-muslem/019--1.mp3",
  Asr:    "https://alkabbah.com/recitations/media/40704/alathan-syd-alnkshbnd",
  Maghrib:"https://ia600202.us.archive.org/11/items/AdhaN_M_up-by-muslem/042--.mp3",
  Isha:   "https://ia800202.us.archive.org/11/items/AdhaN_M_up-by-muslem/068-.mp3",
};

/** ========= ØªØ®Ø²ÙŠÙ† ========= **/
const K="prayer_full_v1";
function loadS(){ try{return JSON.parse(localStorage.getItem(K)||"{}");}catch{return {}} }
function saveS(v){ localStorage.setItem(K,JSON.stringify(v)); }

let state = loadS();
if(state.vibrate === undefined) state.vibrate = true;
if(state.method === undefined) state.method = "5";
if(state.madhab === undefined) state.madhab = "0";

document.getElementById("method").value = state.method;
document.getElementById("madhab").value = state.madhab;

function saveMethod(){ state.method=document.getElementById("method").value; saveS(state); getLocationAndLoad(); }
function saveMadhab(){ state.madhab=document.getElementById("madhab").value; saveS(state); getLocationAndLoad(); }

function toggleVibrate(){
  state.vibrate = !state.vibrate;
  saveS(state);
  document.getElementById("vibState").textContent = state.vibrate ? "ON" : "OFF";
}

/** ========= Ø£Ø¯ÙˆØ§Øª ========= **/
function setText(id,t){document.getElementById(id).textContent=t;}
function pad(n){return String(n).padStart(2,'0');}
function nowStr(){
  const d=new Date();
  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
}
function parseHHMM(hm){
  // hm Ù…Ø«Ù„ "04:12"
  const [h,m]=hm.split(":").map(x=>parseInt(x,10));
  return {h,m};
}
function makeDateForToday(hm){
  const d=new Date();
  const {h,m}=parseHHMM(hm);
  d.setHours(h,m,0,0);
  return d;
}
function fmtClock(d){
  return `${pad(d.getHours())}:${pad(d.getMinutes())}:${pad(d.getSeconds())}`;
}

/** ========= UI ========= **/
document.getElementById("vibState").textContent = state.vibrate ? "ON" : "OFF";

/** ========= Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª ========= **/
let timings=null;       // {Fajr:"..",Dhuhr:"..",...}
let meta=null;          // metadata
let nextPrayer=null;    // {name, timeDate, totalMs}
let countdownTimer=null;
let firedTodayKey=null;

function renderTimes(){
  if(!timings){
    document.getElementById("times").innerHTML = `<div class="small">Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª Ø¨Ø¹Ø¯.</div>`;
    return;
  }
  const order=["Fajr","Sunrise","Dhuhr","Asr","Maghrib","Isha"];
  const labels={Fajr:"Ø§Ù„ÙØ¬Ø±",Sunrise:"Ø§Ù„Ø´Ø±ÙˆÙ‚",Dhuhr:"Ø§Ù„Ø¸Ù‡Ø±",Asr:"Ø§Ù„Ø¹ØµØ±",Maghrib:"Ø§Ù„Ù…ØºØ±Ø¨",Isha:"Ø§Ù„Ø¹Ø´Ø§Ø¡"};
  document.getElementById("times").innerHTML = order.map(k=>{
    const v=(timings[k]||"â€”").toString().slice(0,5);
    return `<div class="timeCard"><div class="small">${labels[k]}</div><b style="font-size:18px">${v}</b></div>`;
  }).join("");
}

function computeNextPrayer(){
  if(!timings) return null;
  const order=["Fajr","Dhuhr","Asr","Maghrib","Isha"];
  const ar={Fajr:"Ø§Ù„ÙØ¬Ø±",Dhuhr:"Ø§Ù„Ø¸Ù‡Ø±",Asr:"Ø§Ù„Ø¹ØµØ±",Maghrib:"Ø§Ù„Ù…ØºØ±Ø¨",Isha:"Ø§Ù„Ø¹Ø´Ø§Ø¡"};
  const now=new Date();

  // Ø¬Ù‡Ø² Ø£ÙˆÙ‚Ø§Øª Ø§Ù„ÙŠÙˆÙ…
  const items = order.map(name=>{
    const hm=(timings[name]||"00:00").toString().slice(0,5);
    return {name, ar:ar[name], at: makeDateForToday(hm), hm};
  });

  // Ø¯ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙˆÙ„ ØµÙ„Ø§Ø© Ù„Ø³Ù‡ Ø¬Ø§ÙŠØ©
  let next = items.find(x=>x.at.getTime() > now.getTime());

  // Ù„Ùˆ ÙƒÙ„Ù‡ Ø¹Ø¯Ù‰: ÙŠØ¨Ù‚Ù‰ Ø§Ù„ÙØ¬Ø± Ø¨ØªØ§Ø¹ Ø¨ÙƒØ±Ø©
  if(!next){
    const hm=(timings["Fajr"]||"00:00").toString().slice(0,5);
    const d=new Date();
    const {h,m}=parseHHMM(hm);
    d.setDate(d.getDate()+1);
    d.setHours(h,m,0,0);
    next = {name:"Fajr", ar:"Ø§Ù„ÙØ¬Ø±", at:d, hm};
  }

  // Ø§Ù„Ù…Ø¯Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø¢Ù† Ù„Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
  const totalMs = next.at.getTime() - now.getTime();
  return {name: next.name, ar: next.ar, at: next.at, totalMs};
}

function setRing(progress){
  // progress Ù…Ù† 0..1 (Ù‚Ø¯ Ø§ÙŠÙ‡ Ù‚Ø±Ø¨Ù†Ø§)
  const deg = Math.max(0, Math.min(1, progress))*360;
  document.getElementById("ring").style.background = `conic-gradient(var(--m) ${deg}deg, rgba(255,255,255,.12) 0deg)`;
}

function startCountdown(){
  if(countdownTimer) clearInterval(countdownTimer);
  firedTodayKey=null;

  countdownTimer=setInterval(()=>{
    if(!timings) return;

    const np=computeNextPrayer();
    nextPrayer=np;

    // Ø¹Ø±Ø¶
    setText("nextName", np.ar);
    setText("nextBadge", `Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©: ${np.ar}`);
    setText("countdown", msToHMS(np.at.getTime()-Date.now()));

    // Ring: Ù†Ø­ØªØ§Ø¬ Ø·ÙˆÙ„ Ø§Ù„ÙØªØ±Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ§Ù„Ø¬Ø§ÙŠØ© (ØªÙ‚Ø±ÙŠØ¨)
    const span = estimateSpanMs(np.name);
    const left = np.at.getTime()-Date.now();
    const passed = span - left;
    setRing(span>0 ? (passed/span) : 0);

    // Trigger Ø¯Ø§Ø®Ù„ Ø§Ù„ØµÙØ­Ø© (Ù„Ùˆ Ù‚Ø±Ø¨Øª 0)
    const key = nowStr()+"_"+np.name;
    if(left<=500 && firedTodayKey!==key){
      firedTodayKey=key;
      playAdhan(np.name);
      vibrate();
    }
  },1000);
}

function estimateSpanMs(nextName){
  // ØªÙ‚Ø¯ÙŠØ± Ù…Ø¯Ø© Ø§Ù„ÙØªØ±Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙ„ÙˆØ§Øª (Ù„Ø±Ø³Ù… Ø§Ù„Ù€ ring) â€” Ù…Ø´ Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† Ø¯Ù‚ÙŠÙ‚ 100%
  const order=["Fajr","Dhuhr","Asr","Maghrib","Isha"];
  const idx=order.indexOf(nextName);
  if(idx===-1 || !timings) return 0;

  const now=new Date();
  const nextAt = makeDateForToday((timings[nextName]||"00:00").toString().slice(0,5));

  // prev: Ù„Ùˆ next Ù‡Ùˆ Ø§Ù„ÙØ¬Ø±ØŒ prev Ù‡Ùˆ Ø§Ù„Ø¹Ø´Ø§Ø¡ (Ø£Ù…Ø³)
  let prevName = (idx===0) ? "Isha" : order[idx-1];
  let prevAt = makeDateForToday((timings[prevName]||"00:00").toString().slice(0,5));

  // Ù„Ùˆ next ÙØ¬Ø± ÙˆØ¨ÙƒØ±Ø©ØŒ Ø®Ù„ÙŠÙ‡ Ø¨ÙƒØ±Ø© ÙØ¹Ù„Ø§Ù‹
  if(nextName==="Fajr" && nextAt.getTime() <= now.getTime()){
    nextAt.setDate(nextAt.getDate()+1);
  }
  // Ù„Ùˆ prev Ø¹Ø´Ø§Ø¡ Ùˆ next ÙØ¬Ø± (span Ø¹Ø¨Ø± Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„)
  if(nextName==="Fajr"){
    // prevAt Ù‡Ùˆ Ø¹Ø´Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ… (Ù‚Ø¨Ù„ Ù…Ù†ØªØµÙ Ø§Ù„Ù„ÙŠÙ„ ØºØ§Ù„Ø¨Ø§Ù‹) â€” Ù„Ùˆ Ù„Ø³Ù‡ Ù‚Ø¯Ø§Ù…Ù†Ø§ØŒ Ø®Ù„ÙŠÙ‡ Ø§Ù…Ø¨Ø§Ø±Ø­
    if(prevAt.getTime() > now.getTime()) prevAt.setDate(prevAt.getDate()-1);
  }

  const span = nextAt.getTime() - prevAt.getTime();
  return Math.max(1, span);
}

function msToHMS(ms){
  ms=Math.max(0,ms);
  const s=Math.floor(ms/1000);
  const h=Math.floor(s/3600);
  const m=Math.floor((s%3600)/60);
  const ss=s%60;
  return `${pad(h)}:${pad(m)}:${pad(ss)}`;
}

/** ========= ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø°Ø§Ù† + Ø§Ù‡ØªØ²Ø§Ø² ========= **/
function playAdhan(prayer){
  // prayer keys: Fajr, Dhuhr, Asr, Maghrib, Isha
  const url = ADHAN_URLS[prayer] || ADHAN_URLS["Maghrib"];
  const a = document.getElementById("adhan");
  a.src=url;
  a.play().catch(()=>{ /* Ø¨Ø¹Ø¶ WebView ØªÙ…Ù†Ø¹ autoplay */ });
}
function vibrate(){
  if(!state.vibrate) return;
  if(navigator.vibrate) navigator.vibrate([800,200,800,200,1200]);
}

function testAdhan(){
  playAdhan("Maghrib");
  vibrate();
  alert("Ù„Ùˆ Ø§Ù„ØµÙˆØª Ù…Ø§ Ø§Ø´ØªØºÙ„Ø´: WebView Ù…Ù…ÙƒÙ† ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªØ´ØºÙŠÙ„ Ø¥Ù„Ø§ Ø¨Ø¹Ø¯ ØªÙØ§Ø¹Ù„. Ø§Ø¶ØºØ· Ø²Ø± ØªØ´ØºÙŠÙ„ Ù…Ø±Ø©.");
}

/** ========= ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ========= **/
async function getLocationAndLoad(){
  setText("locBadge","â³ Ø¬Ø§Ø±ÙŠ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹...");
  if(!navigator.geolocation){
    setText("locBadge","âŒ Ø§Ù„Ø¬Ù‡Ø§Ø² Ù„Ø§ ÙŠØ¯Ø¹Ù… GPS");
    return;
  }

  navigator.geolocation.getCurrentPosition(async (pos)=>{
    const lat=pos.coords.latitude;
    const lng=pos.coords.longitude;

    state.lat=lat; state.lng=lng; saveS(state);
    setText("locBadge",`ğŸ“ ${lat.toFixed(3)}, ${lng.toFixed(3)}`);

    await loadTimings(lat,lng);

  }, (err)=>{
    console.log(err);
    setText("locBadge","âŒ Ø¥Ø°Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø±ÙÙˆØ¶");
    alert("ÙØ¹Ù‘Ù„ Ø¥Ø°Ù† Location Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.");
  }, {enableHighAccuracy:true,timeout:15000,maximumAge:0});
}

async function loadTimings(lat,lng){
  try{
    const method=state.method||"5";
    const madhab=state.madhab||"0";

    // Aladhan API: timings by coordinates
    const url = `https://api.aladhan.com/v1/timings/${Math.floor(Date.now()/1000)}?latitude=${lat}&longitude=${lng}&method=${method}&school=${madhab}`;

    const res = await fetch(url);
    const json = await res.json();

    if(!json || json.code!==200){
      throw new Error("API error");
    }

    timings = json.data.timings;
    meta = json.data.meta;

    setText("dateBadge", json.data.date?.readable || "Ø§Ù„ÙŠÙˆÙ…");
    setText("tz", meta?.timezone || "â€”");
    setText("city", meta?.timezone ? meta.timezone.split("/").pop().replaceAll("_"," ") : "â€”");

    const mn = {
      "5":"Egypt",
      "4":"Umm Al-Qura",
      "2":"ISNA",
      "3":"MWL"
    }[method] || "Custom";
    setText("methodName", mn);

    renderTimes();
    startCountdown();

  }catch(e){
    console.log(e);
    alert("Ù…Ø´ÙƒÙ„Ø© ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª. Ø¬Ø±Ù‘Ø¨ ØªØ§Ù†ÙŠ Ø£Ùˆ ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.");
  }
}

// ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
if(state.lat && state.lng){
  setText("locBadge",`ğŸ“ ${state.lat.toFixed(3)}, ${state.lng.toFixed(3)} (Ù…Ø­ÙÙˆØ¸)`);
  loadTimings(state.lat,state.lng);
}else{
  getLocationAndLoad();
}
</script>

</body>
</html>
