<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Noor Islam â€” Ù‚ØµØµ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --muted:#a9b2d3;
      --text:#eef1ff;
      --accent:#f2c14e;
      --accent2:#7aa2ff;
      --border:rgba(255,255,255,.12);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
    }
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; background:radial-gradient(1200px 700px at 80% -10%, rgba(122,162,255,.25), transparent 55%), radial-gradient(900px 500px at 10% 0%, rgba(242,193,78,.20), transparent 60%), var(--bg); color:var(--text);}
    header{position:sticky; top:0; z-index:10; backdrop-filter: blur(10px); background:rgba(11,16,32,.65); border-bottom:1px solid var(--border);}
    .wrap{max-width:1100px;margin:auto;padding:16px;}
    .topbar{display:flex; gap:12px; align-items:center; justify-content:space-between;}
    .brand{display:flex; align-items:center; gap:10px;}
    .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ffdf8a); box-shadow:var(--shadow);}
    .title{font-weight:900; letter-spacing:.2px;}
    .subtitle{color:var(--muted); font-size:12px;}
    .actions{display:flex; gap:10px; align-items:center; flex-wrap:wrap;}
    .chip{border:1px solid var(--border); background:rgba(255,255,255,.06); color:var(--text); padding:10px 12px; border-radius:999px; display:flex; align-items:center; gap:8px;}
    input,select{outline:none; border:none; background:transparent; color:var(--text); font-size:14px; min-width:180px;}
    input::placeholder{color:rgba(238,241,255,.55);}
    .btn{cursor:pointer; user-select:none; border:1px solid var(--border); background:rgba(255,255,255,.06); color:var(--text); padding:10px 12px; border-radius:12px;}
    .btn:hover{background:rgba(255,255,255,.10);}
    main{padding:16px 0 90px;}
    .grid{display:grid; gap:14px; grid-template-columns:repeat(12,1fr);}
    .card{grid-column:span 4; border:1px solid var(--border); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03)); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; position:relative;}
    .card .head{padding:16px 16px 10px; display:flex; justify-content:space-between; gap:10px; align-items:flex-start;}
    .name{font-weight:900; font-size:18px;}
    .tag{font-size:12px; color:var(--muted);}
    .meta{padding:0 16px 12px; color:var(--muted); font-size:13px; line-height:1.7;}
    .bar{display:flex; gap:8px; flex-wrap:wrap; padding:0 16px 16px;}
    .pill{font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); background:rgba(0,0,0,.12);}
    .pill.a{border-color:rgba(242,193,78,.35); background:rgba(242,193,78,.10);}
    .pill.b{border-color:rgba(122,162,255,.35); background:rgba(122,162,255,.10);}
    .open{padding:12px 16px; border-top:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; gap:10px;}
    .open .more{color:var(--accent); font-weight:800;}
    .open .ico{opacity:.9}
    .card:hover{transform:translateY(-2px); transition:.15s ease;}
    @media (max-width:980px){ .card{grid-column:span 6;} }
    @media (max-width:640px){ .card{grid-column:span 12;} input,select{min-width:120px;} }

    /* Modal */
    .modal{position:fixed; inset:0; background:rgba(0,0,0,.6); display:none; align-items:center; justify-content:center; padding:16px; z-index:100;}
    .modal.show{display:flex;}
    .sheet{max-width:900px; width:100%; max-height:88vh; overflow:auto; border:1px solid var(--border); background:rgba(18,26,51,.96); border-radius:22px; box-shadow:var(--shadow);}
    .sheetHeader{position:sticky; top:0; background:rgba(18,26,51,.96); border-bottom:1px solid var(--border); padding:14px 16px; display:flex; justify-content:space-between; align-items:center; gap:10px;}
    .sheetHeader .h{font-weight:900;}
    .close{border:1px solid var(--border); background:rgba(255,255,255,.06); border-radius:12px; padding:8px 10px; cursor:pointer;}
    .content{padding:16px;}
    .section{border:1px solid var(--border); background:rgba(255,255,255,.04); border-radius:18px; padding:14px; margin-bottom:12px;}
    .section h3{margin:0 0 8px; font-size:15px;}
    .section p{margin:0; color:var(--text); line-height:1.9;}
    .timeline{display:flex; flex-direction:column; gap:10px; margin-top:8px;}
    .titem{border:1px dashed rgba(255,255,255,.18); border-radius:14px; padding:12px;}
    .titem .t{font-weight:900; color:var(--accent2); margin-bottom:6px;}
    .titem .d{color:var(--muted); line-height:1.8;}
    footer{position:fixed; left:0; right:0; bottom:0; background:rgba(11,16,32,.75); backdrop-filter: blur(10px); border-top:1px solid var(--border);}
    .nav{max-width:1100px;margin:auto;padding:10px 16px; display:flex; gap:10px; justify-content:space-between; align-items:center;}
    a.navbtn{flex:1; text-align:center; text-decoration:none; color:var(--text); border:1px solid var(--border); background:rgba(255,255,255,.06); padding:10px 12px; border-radius:14px;}
    a.navbtn:hover{background:rgba(255,255,255,.10);}
    .hint{color:var(--muted); font-size:12px;}
  </style>
</head>
<body>

<header>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div>
          <div class="title">Ù‚ØµØµ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡</div>
          <div class="subtitle">Ø¨Ø­Ø« + ØªØµÙ†ÙŠÙ + Ø®Ø· Ø²Ù…Ù†ÙŠ + â€œØ§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯â€</div>
        </div>
      </div>

      <div class="actions">
        <div class="chip">
          ğŸ” <input id="q" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù†Ø¨ÙŠâ€¦ (Ù…Ø«Ø§Ù„: Ù…ÙˆØ³Ù‰)" />
        </div>
        <div class="chip">
          ğŸ—‚ï¸
          <select id="group">
            <option value="all">Ø§Ù„ÙƒÙ„</option>
            <option value="adam">Ù…Ù† Ø¢Ø¯Ù…</option>
            <option value="bani">Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„</option>
            <option value="arab">Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø¹Ø±Ø¨</option>
          </select>
        </div>
        <button class="btn" id="reset">Ø¥Ø¹Ø§Ø¯Ø©</button>
      </div>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="hint">âš ï¸ Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© (Ù…ÙŠÙ„Ø§Ø¯/ÙˆÙØ§Ø©) Ù…Ø´ Ø«Ø§Ø¨ØªØ© ØªØ§Ø±ÙŠØ®ÙŠÙ‹Ø§ Ù„Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡ â€” Ù‡Ù†Ø³ØªØ®Ø¯Ù… â€œØªÙ‚Ø±ÙŠØ¨ÙŠ/ØºÙŠØ± Ù…Ø¹Ù„ÙˆÙ…â€ ÙˆÙ†Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØµØ­ÙŠØ­Ø©.</div>
  <div style="height:12px"></div>
  <div id="grid" class="grid"></div>
</main>

<div id="modal" class="modal" role="dialog" aria-modal="true">
  <div class="sheet">
    <div class="sheetHeader">
      <div>
        <div class="h" id="mName">â€”</div>
        <div class="subtitle" id="mMeta">â€”</div>
      </div>
      <button class="close" id="mClose">âœ–</button>
    </div>
    <div class="content" id="mContent"></div>
  </div>
</div>

<footer>
  <div class="nav">
    <a class="navbtn" href="./index.html">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a class="navbtn" href="./prayer.html">ğŸ•‹ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</a>
    <a class="navbtn" href="./quran.html">ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù†</a>
    <a class="navbtn" href="./prophets.html">ğŸ“š Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡</a>
  </div>
</footer>

<script>
/*
  âœ… Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø³Ù‡ÙˆÙ„Ø©:
  - ÙƒÙ„ Ù†Ø¨ÙŠ Ù„ÙŠÙ‡: name / group / era / short / timeline[] / sources[]
  - Ù„Ùˆ Ø¹Ø§ÙŠØ² â€œÙ…ÙˆØ³ÙˆØ¹Ø© ÙƒØ§Ù…Ù„Ø©â€ØŒ Ù‡Ù†Ø¨Ø¹ØªÙ‡Ø§ ÙƒÙ€ prophets.json ÙˆÙ†Ø­Ù…Ù‘Ù„Ù‡Ø§ Ø¨Ø¯Ù„ Ù…Ø§ ØªÙƒÙˆÙ† Ø¬ÙˆÙ‡ Ø§Ù„ÙƒÙˆØ¯.
*/
const PROPHETS = [
  {
    id:"adam",
    name:"Ø¢Ø¯Ù… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…",
    group:"adam",
    era:"Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¨Ø´Ø±ÙŠØ©",
    short:"Ø£ÙˆÙ„ Ø§Ù„Ø¨Ø´Ø± ÙˆØ£ÙˆÙ„ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡. Ø¹ÙÙ„Ù’Ù…Ù Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ØŒ Ø§Ù„Ø³ÙƒÙ† ÙÙŠ Ø§Ù„Ø¬Ù†Ø©ØŒ Ø«Ù… Ø§Ù„Ù‡Ø¨ÙˆØ· Ù„Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„ØªÙˆØ¨Ø©.",
    timeline:[
      {t:"Ø§Ù„Ø®Ù„Ù‚", d:"Ø®Ù„Ù‚ Ø§Ù„Ù„Ù‡ Ø¢Ø¯Ù… ÙˆØ¹Ù„Ù‘Ù…Ù‡ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡."},
      {t:"Ø§Ù„Ø¬Ù†Ø© ÙˆØ§Ù„Ø§Ø¨ØªÙ„Ø§Ø¡", d:"Ø³ÙƒÙ† Ø§Ù„Ø¬Ù†Ø© ÙˆÙˆÙ‚Ø¹ Ø§Ù„Ø§Ø¨ØªÙ„Ø§Ø¡ Ø«Ù… Ø§Ù„ØªÙˆØ¨Ø©."},
      {t:"Ø§Ù„Ø®Ù„Ø§ÙØ© ÙÙŠ Ø§Ù„Ø£Ø±Ø¶", d:"Ø¨Ø¯Ø¡ Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ø£Ø±Ø¶ ÙˆØ¨Ø¯Ø§ÙŠØ© Ù†Ø³Ù„ Ø§Ù„Ø¨Ø´Ø±."}
    ],
    notes:"Ù„Ùˆ Ø¹Ø§ÙŠØ² ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØªØ±: Ø²ÙˆÙ‘Ø¯ Ù‡Ù†Ø§ Ø£Ùˆ Ø®Ù„ÙŠÙ‡Ø§ Ù…Ù† Ù…Ù„Ù JSON Ø®Ø§Ø±Ø¬ÙŠ."
  },
  {
    id:"nuh",
    name:"Ù†ÙˆØ­ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…",
    group:"adam",
    era:"Ù‚Ø¨Ù„ Ø§Ù„Ø·ÙˆÙØ§Ù†",
    short:"Ø¯Ø¹Ø§ Ù‚ÙˆÙ…Ù‡ Ù„Ù„ØªÙˆØ­ÙŠØ¯ Ø³Ù†ÙˆØ§Øª Ø·ÙˆÙŠÙ„Ø©ØŒ Ø«Ù… Ø¬Ø§Ø¡ Ø§Ù„Ø·ÙˆÙØ§Ù† ÙˆÙ†Ø¬Ø§Ø© Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† Ø¨Ø§Ù„Ø³ÙÙŠÙ†Ø©.",
    timeline:[
      {t:"Ø§Ù„Ø¯Ø¹ÙˆØ©", d:"Ø¯Ø¹ÙˆØ© Ø·ÙˆÙŠÙ„Ø© ÙˆØµØ¨Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø°Ù‰."},
      {t:"Ø§Ù„Ø³ÙÙŠÙ†Ø©", d:"ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø¨Ø£Ù…Ø± Ø§Ù„Ù„Ù‡."},
      {t:"Ø§Ù„Ø·ÙˆÙØ§Ù† ÙˆØ§Ù„Ù†Ø¬Ø§Ø©", d:"Ù‡Ù„Ø§Ùƒ Ø§Ù„Ù…ÙƒØ°Ø¨ÙŠÙ† ÙˆÙ†Ø¬Ø§Ø© Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†."}
    ]
  },
  {
    id:"ibrahim",
    name:"Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…",
    group:"arab",
    era:"Ø£Ø¨Ùˆ Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡",
    short:"ØªØ­Ø·ÙŠÙ… Ø§Ù„Ø£ØµÙ†Ø§Ù…ØŒ Ø§Ù„Ø§Ø¨ØªÙ„Ø§Ø¡Ø§Øª Ø§Ù„Ø¹Ø¸ÙŠÙ…Ø©ØŒ ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„ÙƒØ¹Ø¨Ø© Ù…Ø¹ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„.",
    timeline:[
      {t:"ÙƒØ³Ø± Ø§Ù„Ø£ØµÙ†Ø§Ù…", d:"Ù…ÙˆÙ‚ÙÙ‡ Ù…Ø¹ Ù‚ÙˆÙ…Ù‡ ÙÙŠ Ø¹Ø¨Ø§Ø¯Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù…."},
      {t:"Ø§Ù„Ø§Ø¨ØªÙ„Ø§Ø¡", d:"Ø§Ø¨ØªÙ„Ø§Ø¡Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆØµØ¨Ø± ÙˆØ«Ø¨Ø§Øª."},
      {t:"Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙƒØ¹Ø¨Ø©", d:"Ø±ÙØ¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù…Ø¹ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„."}
    ]
  },
  {
    id:"musa",
    name:"Ù…ÙˆØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…",
    group:"bani",
    era:"Ù…Ø¹ ÙØ±Ø¹ÙˆÙ† ÙˆØ¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„",
    short:"Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ ÙØ±Ø¹ÙˆÙ†ØŒ Ù…Ø¹Ø¬Ø²Ø§ØªØŒ Ø®Ø±ÙˆØ¬ Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ØŒ ÙˆØ§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø£Ù„ÙˆØ§Ø­.",
    timeline:[
      {t:"Ø§Ù„Ø±Ø³Ø§Ù„Ø©", d:"Ø¨Ø¹Ø« Ø¥Ù„Ù‰ ÙØ±Ø¹ÙˆÙ† ÙˆØ¯Ø¹Ø§Ù‡ Ù„Ù„ØªÙˆØ­ÙŠØ¯."},
      {t:"Ø§Ù„Ø®Ø±ÙˆØ¬", d:"Ù†Ø¬Ø§Ø© Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ ÙˆØºØ±Ù‚ ÙØ±Ø¹ÙˆÙ†."},
      {t:"Ø§Ù„ØªØ´Ø±ÙŠØ¹", d:"Ø§Ù„Ø£Ù„ÙˆØ§Ø­ ÙˆØªÙ†Ø¸ÙŠÙ… Ø­ÙŠØ§Ø© Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„."}
    ]
  },
  {
    id:"isa",
    name:"Ø¹ÙŠØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…",
    group:"bani",
    era:"Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ï·º",
    short:"ÙˆÙ„Ø¯ Ø¨Ù…Ø¹Ø¬Ø²Ø©ØŒ Ø¯Ø¹Ø§ Ø¥Ù„Ù‰ Ø§Ù„ØªÙˆØ­ÙŠØ¯ØŒ ÙˆØ¢ØªØ§Ù‡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¥Ù†Ø¬ÙŠÙ„. (ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±ÙØ¹ ÙƒÙ…Ø§ ÙˆØ±Ø¯Øª Ø´Ø±Ø¹Ù‹Ø§).",
    timeline:[
      {t:"Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯", d:"Ù…ÙŠÙ„Ø§Ø¯ Ù…Ø¹Ø¬Ø²ÙŠ ÙˆÙƒÙ„Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ù‡Ø¯."},
      {t:"Ø§Ù„Ø¯Ø¹ÙˆØ©", d:"Ø¯Ø¹ÙˆØ© Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„ Ù„Ù„ØªÙˆØ­ÙŠØ¯."},
      {t:"Ø§Ù„Ø±ÙØ¹", d:"ØªÙØ§ØµÙŠÙ„Ù‡ Ø­Ø³Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø´Ø±Ø¹ÙŠØ©."}
    ]
  },
  {
    id:"muhammad",
    name:"Ù…Ø­Ù…Ø¯ ï·º",
    group:"arab",
    era:"Ø®Ø§ØªÙ… Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡",
    short:"Ù†Ø²Ù„ Ø¹Ù„ÙŠÙ‡ Ø§Ù„ÙˆØ­ÙŠØŒ Ù‡Ø§Ø¬Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŒ ÙˆØ¨Ù†Ù‰ Ø¯ÙˆÙ„Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù… ÙˆØ£ØªÙ… Ø§Ù„Ø¨Ù„Ø§Øº.",
    timeline:[
      {t:"Ø§Ù„ÙˆØ­ÙŠ", d:"Ø¨Ø¯Ø¡ Ù†Ø²ÙˆÙ„ Ø§Ù„ÙˆØ­ÙŠ ÙˆØ§Ù„Ø¯Ø¹ÙˆØ©."},
      {t:"Ø§Ù„Ù‡Ø¬Ø±Ø©", d:"Ø§Ù„Ù‡Ø¬Ø±Ø© ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¬ØªÙ…Ø¹."},
      {t:"Ø§Ù„Ø¨Ù„Ø§Øº", d:"Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙˆÙ†Ø´Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…."}
    ]
  }
];

const grid = document.getElementById("grid");
const q = document.getElementById("q");
const group = document.getElementById("group");
const reset = document.getElementById("reset");
const modal = document.getElementById("modal");
const mClose = document.getElementById("mClose");
const mName = document.getElementById("mName");
const mMeta = document.getElementById("mMeta");
const mContent = document.getElementById("mContent");

function pill(txt, cls=""){
  return `<span class="pill ${cls}">${txt}</span>`;
}

function card(p){
  return `
    <div class="card" onclick="openProphet('${p.id}')">
      <div class="head">
        <div>
          <div class="name">${p.name}</div>
          <div class="tag">${p.era || ""}</div>
        </div>
        <div class="ico">âœ</div>
      </div>
      <div class="meta">${p.short}</div>
      <div class="bar">
        ${pill(p.group==="adam"?"Ù…Ù† Ø¢Ø¯Ù…":"", "a")}
        ${pill(p.group==="bani"?"Ø¨Ù†ÙŠ Ø¥Ø³Ø±Ø§Ø¦ÙŠÙ„":"", "b")}
        ${pill(p.group==="arab"?"Ø£Ù†Ø¨ÙŠØ§Ø¡ Ø¹Ø±Ø¨":"", "a")}
      </div>
      <div class="open">
        <div class="more">Ø§ÙØªØ­ Ø§Ù„Ù‚ØµØ©</div>
        <div class="tag">Timeline + Ø§Ù„Ù…Ø²ÙŠØ¯</div>
      </div>
    </div>
  `;
}

function render(){
  const text = (q.value||"").trim();
  const g = group.value;

  const filtered = PROPHETS.filter(p=>{
    const okText = !text || p.name.includes(text);
    const okGroup = (g==="all") || (p.group===g);
    return okText && okGroup;
  });

  grid.innerHTML = filtered.map(card).join("") || `<div class="hint">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬â€¦ Ø¬Ø±Ù‘Ø¨ Ø§Ø³Ù… Ù…Ø®ØªÙ„Ù.</div>`;
}

window.openProphet = (id)=>{
  const p = PROPHETS.find(x=>x.id===id);
  if(!p) return;

  mName.textContent = p.name;
  mMeta.textContent = `${p.era || ""} â€¢ ØªØµÙ†ÙŠÙ: ${p.group}`;

  const tl = (p.timeline||[]).map(x=>`
    <div class="titem">
      <div class="t">${x.t}</div>
      <div class="d">${x.d}</div>
    </div>
  `).join("");

  mContent.innerHTML = `
    <div class="section">
      <h3>Ù…Ù„Ø®Øµ Ø³Ø±ÙŠØ¹</h3>
      <p>${p.short}</p>
    </div>

    <div class="section">
      <h3>Ø§Ù„Ø®Ø· Ø§Ù„Ø²Ù…Ù†ÙŠ (Timeline)</h3>
      <div class="timeline">${tl || `<div class="hint">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Timeline Ø¨Ø¹Ø¯.</div>`}</div>
    </div>

    <div class="section">
      <h3>ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±</h3>
      <p>${p.notes || "Ù‡Ù†Ø§ Ù‡Ù†Ø­Ø· Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·ÙˆÙŠÙ„Ø©â€¦ (Ø§Ø¨Ø¹ØªÙ„ÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù„ÙŠ Ø¹Ø§ÙŠØ²Ù‡ØŒ ÙˆØ£Ù†Ø§ Ø£Ø±ÙƒÙ‘Ø¨Ù‡ Ù„Ùƒ ÙÙŠ JSON ÙƒØ¨ÙŠØ±)."} </p>
    </div>
  `;

  modal.classList.add("show");
};

mClose.onclick = ()=> modal.classList.remove("show");
modal.onclick = (e)=>{ if(e.target===modal) modal.classList.remove("show"); };

q.addEventListener("input", render);
group.addEventListener("change", render);
reset.addEventListener("click", ()=>{ q.value=""; group.value="all"; render(); });

render();
</script>

</body>
</html>
